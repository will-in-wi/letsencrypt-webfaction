require: rubocop-performance

AllCops:
  Exclude:
    # These are autogenerated binstubs.
    - 'bin/*'
    # Keep rubocop from scanning installed gems.
    - 'vendor/**/*'
  TargetRubyVersion: 2.4
# Line length is something that isn't dogmatic. 80 chars is a good recommendation.
Metrics/LineLength:
  Enabled: false
# This requires leading comments which can tend to be redundant.
Style/Documentation:
  Enabled: false
# I prefer my underscore convention.
Naming/MemoizedInstanceVariableName:
  Enabled: false

Metrics/BlockLength:
  Exclude:
    # Tests involve long blocks.
    - 'spec/**/*'
Metrics/ModuleLength:
  Exclude:
    # Tests involve piles of code.
    - 'spec/**/*'

# I'm not pulling in a library, or forcing Ruby 2.3+
Layout/HeredocIndentation:
  Enabled: false

# When we use $stderr.puts, we don't see that as verbose.
Style/StderrPuts:
  Enabled: false

# Extra cops:

# Encourages block syntax for things like File.open
Style/AutoResourceCleanup:
  Enabled: true

# Standardize multi-line params.
Layout/FirstArrayElementLineBreak:
  Enabled: true
Layout/FirstHashElementLineBreak:
  Enabled: true
Layout/FirstMethodArgumentLineBreak:
  Enabled: true
Layout/FirstMethodParameterLineBreak:
  Enabled: true

# Encourage using public_send to prove that you actually want to bypass visibility.
Style/Send:
  Enabled: true

# If you interpolate a literal, just include it in the string itself.
Lint/LiteralInInterpolation:
  Enabled: true

# Personal preference. Makes the diffs smaller.
Style/TrailingCommaInArrayLiteral:
  EnforcedStyleForMultiline: consistent_comma
Style/TrailingCommaInHashLiteral:
  EnforcedStyleForMultiline: consistent_comma
Style/TrailingCommaInArguments:
  EnforcedStyleForMultiline: consistent_comma


# Seems buggy for now.
Layout/ClosingHeredocIndentation:
  Enabled: false

# Enable new cops
# Layout/SpaceAroundMethodCallOperator
# Lint/RaiseException
# Lint/StructNewOverride
# Style/ExponentialNotation
# Style/HashEachMethods
# Style/HashTransformKeys
# Style/HashTransformValues
